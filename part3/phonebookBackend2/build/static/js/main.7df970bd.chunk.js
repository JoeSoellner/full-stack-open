(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(2),a=t(15),o=t.n(a),u=t(6),i=t(4),l=function(e){var n=e.name,t=e.number,r=e.id;return Object(c.jsxs)("li",{children:[n,": ",t]},r)},d=function(e){var n=e.contacts,t=e.deleteButtonClickHandler;return Object(c.jsx)("ul",{children:n.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{name:e.name,number:e.number},e.id),Object(c.jsx)("button",{onClick:function(){return t(e.id)},children:"delete"})]},e.id)}))})},s=function(e){return Object(c.jsxs)("form",{onSubmit:e.submitHandler,children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:e.newName,onChange:e.changeNameHandler})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{value:e.newNumber,onChange:e.changeNumberHandler})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})},b=function(e){var n=e.message;return null==n?null:Object(c.jsx)("div",{children:n})},j=t(3),f=t.n(j),h="/api/persons",m={getAll:function(){return console.log("you: 123450897659485637"),f.a.get(h).then((function(e){return e.data}))},create:function(e){return f.a.post(h,e).then((function(e){return e.data}))},add:function(e){return f.a.post("".concat(h),e).then((function(e){return e.data}))},remove:function(e){f.a.delete("".concat(h,"/").concat(e))},update:function(e,n){return f.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))}},O=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)(""),l=Object(i.a)(o,2),j=l[0],f=l[1],h=Object(r.useState)(""),O=Object(i.a)(h,2),v=O[0],p=O[1],g=Object(r.useState)(""),x=Object(i.a)(g,2),w=x[0],k=x[1];Object(r.useEffect)((function(){console.log("hello?"),m.getAll().then((function(e){a(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(b,{message:w}),Object(c.jsx)(s,{submitHandler:function(e){if(e.preventDefault(),function(e){for(var n=0;n<t.length;n++)if(e===t[n].name)return!0;return!1}(j)){if(window.confirm("".concat(j," is already added to phonebook, replace the old number with the new one?"))){var n=function(e){for(var n=0;n<t.length;n++)if(e===t[n].name)return t[n];return{}}(j);m.update(n.id,Object(u.a)(Object(u.a)({},n),{},{number:v})).then((function(e){a(t.map((function(t){return t.id!==n.id?t:e})))})).catch((function(e){console.log("fail",e)}))}}else{var c={name:j,number:v};m.add(c).then((function(e){a(t.concat(e)),f(""),p(""),k("contact '".concat(c.name,"' was added")),setTimeout((function(){k(null)}),5e3)})).catch((function(e){console.log("fail",e)}))}},newName:j,newNumber:v,changeNameHandler:function(e){f(e.target.value)},changeNumberHandler:function(e){p(e.target.value)}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(d,{contacts:t,setContacts:a,deleteButtonClickHandler:function(e){var n=e;m.remove(n),a(t.filter((function(e){return e.id!==n})))}})]})};o.a.render(Object(c.jsx)(O,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.7df970bd.chunk.js.map